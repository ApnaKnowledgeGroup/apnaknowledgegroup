<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Haryana GK Mock Test</title>

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Arial;background:#f4f6f9}
.hidden{display:none}

/* ===== BUTTONS ===== */
button{
  padding:9px 18px;
  border:none;
  border-radius:6px;
  cursor:pointer;
  font-weight:600;
}
.primary{background:#1f3c88;color:#fff}
.secondary{background:#555;color:#fff}
.danger{background:#e74c3c;color:#fff}

/* ===== START ===== */
#start{
  max-width:720px;
  margin:50px auto;
  background:#fff;
  padding:30px;
  border-radius:10px;
  text-align:center;
  box-shadow:0 6px 16px rgba(0,0,0,.1);
}
#start h2{color:#1f3c88}

/* ===== INSTRUCTIONS ===== */
#instructions{
  max-width:800px;
  margin:30px auto;
  background:#fff;
  padding:25px;
  border-radius:10px;
  box-shadow:0 6px 16px rgba(0,0,0,.1);
}

/* ===== TOP BAR ===== */
.topbar{
  background:#1f3c88;
  color:#fff;
  padding:12px 18px;
  display:flex;
  justify-content:space-between;
  font-weight:bold;
}

/* ===== EXAM BODY ===== */
.exam-body{display:flex}

/* ===== PALETTE ===== */
.palette{
  width:22%;
  background:#fff;
  padding:10px;
  border-right:1px solid #ccc;
}
.palette button{
  width:40px;
  height:40px;
  margin:5px;
  border-radius:4px;
  font-weight:bold;
  border:1px solid #000;
}

/* Palette Colors */
.not-visited{background:#fff}
.not-answered{background:#e74c3c!important;color:#fff}
.answered{background:#2ecc71!important;color:#fff}
.review{background:#9b59b6!important;color:#fff}
.review-answered{
  background:#9b59b6!important;
  color:#fff;
  border:3px solid #2ecc71!important;
}

/* ===== QUESTION ===== */
.question-panel{
  width:78%;
  background:#fff;
  padding:25px;
}
.question-panel h3{margin-top:0}

/* ===== RESULT / SOLUTION ===== */
.box{
  max-width:850px;
  margin:30px auto;
  background:#fff;
  padding:25px;
  border-radius:10px;
  box-shadow:0 6px 16px rgba(0,0,0,.1);
}

/* ===== BACK BUTTON (PRO) ===== */
.back-btn{
  display:inline-flex;
  align-items:center;
  gap:10px;
  background:linear-gradient(135deg,#ff416c,#ff4b2b);
  color:#fff;
  padding:12px 22px;
  font-size:16px;
  border-radius:30px;
  box-shadow:0 5px 12px rgba(0,0,0,.25);
}
.back-btn:hover{transform:scale(1.05)}
</style>
</head>

<body>

<!-- START -->
<div id="start">
  <h2>üß† Haryana GK Mock Test</h2>
  <p>‡§ï‡•Å‡§≤ ‡§™‡•ç‡§∞‡§∂‡•ç‡§®: 25</p>
  <p>‡§∏‡§Æ‡§Ø: 15 ‡§Æ‡§ø‡§®‡§ü</p>
  <button class="primary" onclick="showInstructions()">Start Test</button>
</div>

<!-- INSTRUCTIONS -->
<div id="instructions" class="hidden">
  <h3>üìù ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂</h3>
  <ul>
    <li>‚è± ‡§∏‡§Æ‡§Ø ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§ ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§∏‡•ç‡§µ‡§§‡§É ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§π‡•ã‡§ó‡•Ä</li>
    <li>üü• ‡§≤‡§æ‡§≤ ‚Äì Not Answered</li>
    <li>üü© ‡§π‡§∞‡§æ ‚Äì Answered</li>
    <li>üü™ ‡§¨‡•à‡§Ç‡§ó‡§®‡•Ä ‚Äì Review</li>
  </ul>
  <hr>
  <input type="checkbox" id="agree"> ‡§Æ‡•à‡§Ç‡§®‡•á ‡§∏‡§≠‡•Ä ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂ ‡§™‡§¢‡§º ‡§≤‡§ø‡§è ‡§π‡•à‡§Ç  
  <br><br>
  <button class="primary" onclick="startTest()">Take Test</button>
</div>

<!-- EXAM -->
<div id="exam" class="hidden">
  <div class="topbar">
    <div>Haryana GK Mock</div>
    <div id="timer">15:00</div>
  </div>

  <div class="exam-body">
    <div class="palette" id="palette"></div>

    <div class="question-panel">
      <h3 id="qtext"></h3>
      <label><input type="radio" name="opt" value="0"> <span id="o0"></span></label><br>
      <label><input type="radio" name="opt" value="1"> <span id="o1"></span></label><br>
      <label><input type="radio" name="opt" value="2"> <span id="o2"></span></label><br>
      <label><input type="radio" name="opt" value="3"> <span id="o3"></span></label><br><br>

      <button class="secondary" onclick="clearResponse()">Clear</button>
      <button class="secondary" onclick="markReview()">Mark for Review</button><br><br>

      <button class="primary" onclick="prevQ()">Previous</button>
      <button class="primary" onclick="saveNext()">Save & Next</button>
      <button class="danger" onclick="submitTest()">Submit</button>
    </div>
  </div>
</div>

<!-- RESULT -->
<div id="result" class="box hidden">
  <h2>Result</h2>
  <p id="summary"></p>
  <button class="primary" onclick="showSolutions()">Solution</button>
</div>

<!-- SOLUTION -->
<div id="solution" class="box hidden">
  <h2>Solution & Analysis</h2>
  <div id="solutionBox"></div><br>
  <button class="back-btn" onclick="goStart()">‚¨Ö Back to Start</button>
</div>

<script>
/* QUESTIONS */
const questions=[
 {q:"‡§π‡§∞‡§ø‡§Ø‡§æ‡§£‡§æ ‡§ï‡•Ä ‡§∞‡§æ‡§ú‡§ß‡§æ‡§®‡•Ä?",o:["‡§∞‡•ã‡§π‡§§‡§ï","‡§™‡§æ‡§®‡•Ä‡§™‡§§","‡§ö‡§Ç‡§°‡•Ä‡§ó‡§¢‡§º","‡§π‡§ø‡§∏‡§æ‡§∞"],c:2,s:"‡§ö‡§Ç‡§°‡•Ä‡§ó‡§¢‡§º"},
 {q:"‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§¶‡§ø‡§µ‡§∏?",o:["1 ‡§®‡§µ","15 ‡§Ö‡§ó‡§∏‡•ç‡§§","26 ‡§ú‡§®‡§µ‡§∞‡•Ä","2 ‡§Ö‡§ï‡•ç‡§ü‡•Ç‡§¨‡§∞"],c:0,s:"1 ‡§®‡§µ 1966"}
];
while(questions.length<25){
 let i=questions.length+1;
 questions.push({q:`GK ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ${i}`,o:["A","B","C","D"],c:1,s:"Demo"});
}

/* STATE */
let idx=0,time=900,timer;
let resp={},visited=new Set(),review=new Set();
const timerBox=document.getElementById("timer");

/* FLOW */
function showInstructions(){
 start.classList.add("hidden");
 instructions.classList.remove("hidden");
}

function startTest(){
 if(!agree.checked){alert("‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂ ‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç");return;}
 instructions.classList.add("hidden");
 exam.classList.remove("hidden");
 createPalette();
 renderQ();
 startTimer();
}

/* TIMER */
function startTimer(){
 timer=setInterval(()=>{
  time--;
  let m=Math.floor(time/60),s=time%60;
  timerBox.innerText=`${m}:${s<10?"0"+s:s}`;
  if(time<=0)submitTest();
 },1000);
}

/* RENDER */
function renderQ(){
 visited.add(idx);
 let q=questions[idx];
 qtext.innerText=`Q${idx+1}. ${q.q}`;
 q.o.forEach((v,i)=>o(i).innerText=v);
 document.querySelectorAll("input[name=opt]").forEach(r=>r.checked=false);
 if(resp[idx]!=null)document.querySelector(`input[value="${resp[idx]}"]`).checked=true;
 updatePalette();
}

/* PALETTE */
function createPalette(){
 palette.innerHTML="";
 questions.forEach((_,i)=>{
  let b=document.createElement("button");
  b.innerText=i+1;
  b.onclick=()=>{idx=i;renderQ();}
  palette.appendChild(b);
 });
}
function updatePalette(){
 palette.querySelectorAll("button").forEach((b,i)=>{
  b.className="";
  if(review.has(i)&&resp[i]!=null)b.classList.add("review-answered");
  else if(review.has(i))b.classList.add("review");
  else if(resp[i]!=null)b.classList.add("answered");
  else if(visited.has(i))b.classList.add("not-answered");
  else b.classList.add("not-visited");
 });
}

/* ACTIONS */
function saveNext(){
 let s=document.querySelector("input[name=opt]:checked");
 if(s)resp[idx]=+s.value;
 idx=Math.min(idx+1,questions.length-1);
 renderQ();
}
function prevQ(){idx=Math.max(idx-1,0);renderQ();}
function clearResponse(){delete resp[idx];renderQ();}
function markReview(){review.has(idx)?review.delete(idx):review.add(idx);updatePalette();}

/* SUBMIT */
function submitTest(){
 clearInterval(timer);
 exam.classList.add("hidden");
 result.classList.remove("hidden");
 let c=0,w=0,u=0;
 questions.forEach((q,i)=>{
  if(resp[i]==null)u++;
  else if(resp[i]==q.c)c++;
  else w++;
 });
 summary.innerHTML=`‡§∏‡§π‡•Ä: ${c}<br>‡§ó‡§≤‡§§: ${w}<br>‡§Ö‡§®‡•Å‡§§‡•ç‡§§‡§∞‡§ø‡§§: ${u}`;
}

/* SOLUTION */
function showSolutions(){
 result.classList.add("hidden");
 solution.classList.remove("hidden");
 solutionBox.innerHTML="";
 questions.forEach((q,i)=>{
  solutionBox.innerHTML+=`<hr><b>Q${i+1}</b><br>
  ‡§Ü‡§™‡§ï‡§æ ‡§â‡§§‡•ç‡§§‡§∞: ${resp[i]!=null?q.o[resp[i]]:"‡§®‡§π‡•Ä‡§Ç ‡§¶‡§ø‡§Ø‡§æ"}<br>
  ‡§∏‡§π‡•Ä: ${q.o[q.c]}<br>${q.s}`;
 });
}

/* BACK */
function goStart(){location.reload();}
const o=i=>document.getElementById("o"+i);
</script>

</body>
</html>
